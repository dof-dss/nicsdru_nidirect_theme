(function($,Drupal){Drupal.behaviors.nicsdruOriginsThwoopImages={attach:function attach(context){var thwoopImageSelector='[data-picture-mapping*="_expandable"] > img, [data-picture-mapping*="_expandable"] > figure';var $thwoopImages=$(thwoopImageSelector,context);$thwoopImages.once("thwoop-toggle").each(function(){$(this).after('<a class="thwooper" href="#">Enlarge</a>')});$(".thwooper").click(function(event){event.preventDefault();var $thwoopimage=$(this).prev("img, figure");var $thwoop_wrap=$(this).closest(".media-image");var thwoop_picture_mapping=$thwoopimage.parent().attr("data-picture-mapping");var modal=false;if(thwoop_picture_mapping=="inline_xl_expandable"||thwoop_picture_mapping=="portrait_full_expandable"){modal=true;$(document).keydown(function(event){if(event.keyCode==27){$thwoop_wrap.removeClass("thwooped-modal");$thwoopimage.removeClass("thwooped");$thwoop_wrap[0].scrollIntoView({block:"center"})}})}if($thwoopimage.hasClass("thwooped")){$thwoopimage.removeClass("thwooped");$(this).text("title","Enlarge");if(modal){$thwoop_wrap.removeClass("thwooped-modal");$thwoop_wrap[0].scrollIntoView({block:"center"})}}else{$thwoopimage.addClass("thwooped");if(modal){$thwoop_wrap.addClass("thwooped-modal");$(this).text("Close")}else{$(this).text("Shrink")}}})}}})(jQuery,Drupal);